{% extends 'base_dashboard.html' %}
{% block title %}{{ title }} | Gastadorcheck{% endblock %}
{% block extra_css %}
  <link rel="stylesheet" href="/static/css/landing.css">
{% endblock %}
{% block body_classes %}home-page{% endblock %}


{% block content %}
  <div class="w-full max-w-xl mx-auto my-8">
    <div class="bg-white bg-opacity-40 backdrop-filter backdrop-blur-lg border border-white border-opacity-20 rounded-[40px] shadow-md p-6">
      <!-- Title moved inside glass container -->
      <h2 class="text-3xl font-bold text-[#FD9069] mb-6 text-center">{{ title }}</h2>

      <form method="POST" class="space-y-6">
        {% csrf_token %}

        <div>
          <label for="{{ form.category.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            {{ form.category.label }}
          </label>
          {{ form.category }}
        </div>

        <div>
          <label for="{{ form.amount.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            {{ form.amount.label }}
          </label>
          {{ form.amount }}
        </div>

        <div>
          <label for="{{ form.period.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            {{ form.period.label }}
          </label>
          {{ form.period }}
        </div>

        <div>
          <label for="{{ form.start_date.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            {{ form.start_date.label }}
          </label>
          {{ form.start_date }}
        </div>

        <div>
          <label for="{{ form.end_date.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            {{ form.end_date.label }}
          </label>
          {{ form.end_date }}
        </div>

        <div class="mt-6 flex justify-start space-x-4">
          <button
            type="submit"
            class="bg-[#FD9069] hover:opacity-90 text-white font-semibold py-2 px-6 rounded-[10px] shadow transition"
          >
            Save Budget
          </button>
          <a
            href="{% url 'budget_list' %}"
            class="bg-[#C5C5C5]/50 hover:opacity-90 text-white font-semibold py-2 px-6 rounded-[10px] shadow transition"
          >
            Cancel
          </a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}

{% block footer %}
  <footer class="home-footer">
    <p>&copy; {% now "Y" %} GastadorCheck Budget Tracker. All rights reserved.</p>
  </footer>
{% endblock %}

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const opts = { dateFormat: "Y-m-d" };
    const startEl = document.querySelector('#id_start_date');
    const endEl   = document.querySelector('#id_end_date');
    if (startEl) flatpickr(startEl, opts);
    if (endEl)   flatpickr(endEl,   opts);
  });
</script>
{% endblock %}